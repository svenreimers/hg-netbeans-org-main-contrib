<project name="javafx/test-junit" basedir="." default="all">
    <!-- Imports default qa-functional-compiler and runidetest executor.
        jemmy and jellytools jars are on classpath for both. -->
    <import file="../../../nbbuild/templates/xtest-qa-functional.xml"/>

    <import file="../../../nbbuild/templates/projectized.xml"/>


   <path id="run.extra.ide">
        <pathelement location="../../../jemmy/builds/jemmy.jar"/>                    
        <pathelement location="../../../jellytools/builds/jelly2-nb.jar"/>
        <pathelement location="${xtest.home}/lib/junit.jar"/>                    
        <pathelement location="${xtest.home}/lib/nbjunit.jar"/> 

    </path>   


   <path id="run.extra.jvm">

        <fileset dir="../../../nbbuild/netbeans/extra"> <include name="**/*.jar"/> </fileset>        
        <fileset dir="../../../nbbuild/netbeans/platform7"> <include name="**/*.jar"/> </fileset>        
        <fileset dir="../../../nbbuild/netbeans/ide8"> <include name="**/*.jar"/> </fileset>        
        <fileset dir="../../../nbbuild/netbeans/java1"> <include name="**/*.jar"/> </fileset>        

    </path>   


    <target name="ide-compiler">
        <echo message="**** IDE Compiler  ***"/>

        <buildTests srcDir="../../test/qa-functional/src"> 
            <classpath refid="run.extra.ide"/>
        </buildTests>

    </target>


    <target name="project-compiler">
        <echo message="**** JVM Compiler: Project  ***"/>


        <buildTests srcDir="unit/src"> 
            <classpath refid="run.extra.jvm"/>
        </buildTests>
    </target>

    <target name="editor-compiler">
        <echo message="**** JVM Compiler: Editor  ***"/>


        <buildTests srcDir="../../editor/test/unit/src"> 
            <classpath refid="run.extra.jvm"/>
        </buildTests>
    </target>



    <property name="javac.target" value="1.5"/>

    <property name="build.classes.dir" value="build/classes"/>
    <property name="src.dir" value="unit/src"/>




   <target name="run_tests_in_jvm" depends="init,test-init,test-build">

        <echo message="**** JVM Executor ***"/>
        
        <echo message="nb_all = '${nb_all}'"/>
        <!--

        <property name="public.package.jar.dir" location="${nb_all}/nbbuild/build/public-package-jars"/>
        <mkdir dir="${public.package.jar.dir}"/>
        <property name="test.dist.dir" location="${nb_all}/nbbuild/build/testdist"/>

        <parseprojectxml
                project="./.."
                publicpackagesproperty="public.packages"
                friendsproperty="friends"
                javadocpackagesproperty="module.javadoc.packages"
                moduledependenciesproperty="module.dependencies"
                moduleclasspathproperty="module.classpath"
                publicpackagejardir="${public.package.jar.dir}"
                modulerunclasspathproperty="module.run.classpath"
                domainproperty="nbm.domain"
                classpathextensionsproperty="class.path.extensions">
            <testtype name="unit" 
                      folder="test.unit.folder" 
                      runtimecp="test.unit.runtime.cp" 
                      compilecp="test.unit.compile.cp"
                      compiledep = "test.unit.testdep"
	     />

            <testtype name="qa-functional" 
                      folder="test.qa-functional.folder" 
                      runtimecp="test.qa-functional.runtime.cp" 
                      compilecp="test.qa-functional.compile.cp"/>         
        </parseprojectxml>
        -->

       <executeTests  pluginName="jvm">
            <classpath refid="run.extra.jvm"/>
       </executeTests>
   </target>   



   
</project>